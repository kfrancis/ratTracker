module.exports=function(e){function t(o){if(i[o])return i[o].exports;var a=i[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}({0:function(e,t,i){e.exports=i(992)},3:function(e,t){e.exports=function(){throw Error("define cannot be used indirect")}},979:function(e,t){e.exports=require("../command")},992:function(e,t,i){var o,a,n;!function(r,define){a=[i(993),i(979)],o=r,n="function"==typeof o?o.apply(t,a):o,!(void 0!==n&&(e.exports=n))}(function(){!function(e,t){var i=window.kendo,o=e.extend,a=i.ui.editor,n=a.EditorUtils,r=a.Dom,s=n.registerTool,d=a.ToolTemplate,l=a.RangeUtils,g=a.Command,c=i.keys,m="#k-editor-image-url",u="#k-editor-image-title",f="#k-editor-image-width",k="#k-editor-image-height",p=g.extend({init:function(e){var t=this;g.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var i,o=this.attributes,a=l.documentFromRange(t);if(o.src&&"http://"!=o.src){if(i=function(){setTimeout(function(){o.width||e.removeAttribute("width"),o.height||e.removeAttribute("height"),e.removeAttribute("complete")})},!e)return e=r.create(a,"img",o),e.onload=e.onerror=i,t.deleteContents(),t.insertNode(e),e.nextSibling||r.insertAfter(a.createTextNode("\ufeff"),e),i(),t.setStartAfter(e),t.setEndAfter(e),l.selectRange(t),!0;e.onload=e.onerror=i,r.attr(e,o),i()}return!1},_dialogTemplate:function(e){return i.template('<div class="k-editor-dialog k-popup-edit-form"><div class="k-edit-form-container"><div class="k-edit-form-content"># if (showBrowser) { #<div class="k-filebrowser k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-textbox" id="k-editor-image-height"></div></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();e.insertImage(l.image(t),t)||e.releaseRange(t)},exec:function(){function e(e){var t=s.element,i=parseInt(t.find(f).val(),10),o=parseInt(t.find(k).val(),10);p.attributes={src:t.find(m).val().replace(/ /g,"%20"),alt:t.find(u).val()},p.attributes.width=null,p.attributes.height=null,!isNaN(i)&&i>0&&(p.attributes.width=i),!isNaN(o)&&o>0&&(p.attributes.height=o),v=p.insertImage(h,b),a(e),p.change&&p.change()}function a(e){e.preventDefault(),s.destroy(),r.windowFromDocument(l.documentFromRange(b)).focus(),v||p.releaseRange(b)}function n(t){t.keyCode==c.ENTER?e(t):t.keyCode==c.ESC&&a(t)}var s,d,g,p=this,b=p.lockRange(),v=!1,h=l.image(b),w=h&&h.getAttribute("width")||"",x=h&&h.getAttribute("height")||"",y=i.support.browser.msie,I=p.editor.options,A=I.messages,T=I.imageBrowser,R=!!(i.ui.ImageBrowser&&T&&T.transport&&T.transport.read!==t),B={title:A.insertImage,visible:!1,resizable:R};this.expandImmutablesIn(b),B.close=a,R&&(B.width=750),s=this.createDialog(p._dialogTemplate(R),B).toggleClass("k-filebrowser-dialog",R).find(".k-dialog-insert").on("click",e).end().find(".k-dialog-close").on("click",a).end().find(".k-edit-field input").on("keydown",n).end().find(m).val(h?h.getAttribute("src",2):"http://").end().find(u).val(h?h.alt:"").end().find(f).val(w).end().find(k).val(x).end().data("kendoWindow"),d=s.element,R&&(this._imageBrowser=new i.ui.ImageBrowser(d.find(".k-imagebrowser"),o({},T)),this._imageBrowser.bind("change",function(e){"f"===e.selected.get("type")&&d.find(m).val(this.value())}),this._imageBrowser.bind("apply",e)),y&&(g=d.closest(".k-window").height(),d.css("max-height",g)),s.center().open(),d.find(m).trigger("focus").select()}});i.ui.editor.ImageCommand=p,s("insertImage",new a.Tool({command:p,template:new d({template:n.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery)},i(3))},993:function(e,t){e.exports=require("../../kendo.imagebrowser")}});